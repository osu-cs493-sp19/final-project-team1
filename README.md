CS 493 Final Project
Code and demo due by 5:00pm on Friday, 6/14/2019
API architecture/design document due on Canvas by 5:00pm on
	Friday, 6/14/2019
In this course, a final programming project will take the place of formal exams to test your understanding of the material.  The final project will involve working with a team of 3-4 people to implement a complete RESTful API for an application called Tarpaulin.  You can find more details about Tarpaulin below.  The API you implement will need to utilize most the components of a modern API that we talked about in class.
Tarpaulin
The application for which you’ll write an API for this project is Tarpaulin, a lightweight course management tool that’s an “alternative” to Canvas.  In particular, Tarpaulin allows users (instructors and students) to see information about the courses they’re teaching/taking.  It allows instructors to create assignments for their courses, and it allows students to submit solutions to those assignments.

The Tarpaulin API you implement must support all of the endpoints described in the Tarpaulin OpenAPI specification.  The GitHub repository for this project created for your team by GitHub Classroom will also contain the Tarpaulin OpenAPI specification.  Importantly, you are free to implement the endpoints described in the OpenAPI specification however you see fit.  For example, you may use whatever database you want, and you may design your API architecture to meet your own needs.

The OpenAPI specification linked above will provide most of the details of the API you’ll implement, but some more details are included below.
Entities
There are several kinds of entity the Tarpaulin API will need to keep track of:
Users – these represent Tarpaulin application users.  Each User can have one of three roles: admin, instructor, and student.  Each of these roles represents a different set of permissions to perform certain API actions.  The permissions associated with these roles are defined further in the Tarpaulin OpenAPI specification.
Courses – these represent courses being managed in Tarpaulin.  Each Course has basic information, such as subject code, number, title, instructor, etc.  Each Course also has a list of enrolled students (i.e. Tarpaulin Users with the student role) as well as a set of assignments.  More details about how to manage these pieces of data are included both below and in the Tarpaulin OpenAPI specification.
Assignments – these represent a single assignment for a Tarpaulin Course.  Each Assignment has basic information such as a title, due date, etc.  It also has a list of individual student submissions.
Submissions – these represent a single student submission for an Assignment in Tarpaulin.  Each submission is tied to the student who submitted it and marked with a submission timestamp.  Each submission is associated with a specific file, which will be uploaded to the Tarpaulin API and stored, so it can be downloaded later.
Actions
Many of the actions that can be performed with the Tarpaulin API are similar to ones we’ve seen in the work we’ve done in class, including fetching entity data and creating, modifying, and deleting entities.  These actions should not need much explanation beyond what’s included in the Tarpaulin OpenAPI specification.  A few specific actions deserve more attention, though:


Course roster download – this action, implemented by the GET /courses/{id}/roster endpoint, allows certain authorized users to download a CSV-formatted roster for a specific course.  The roster will contain a list of the students currently enrolled in the course, in CSV format, e.g.:

"abc123","Jane Doe","doej@oregonstate.edu"
"def456","Luke Skywalker","skywallu@oregonstate.edu"
...

Importantly, this file must be generated by the API, based on the list of enrolled students stored in the database.  There are several alternative ways this can be accomplished.  For example, each time the roster is requested, it can be generated on the fly based on appropriate database queries before being sent back to the client.  Alternatively, the roster could be pre-generated automatically whenever an update is made to a course’s enrollment, and requests for the roster can simply send back this pre-generated file.


Assignment submission creation – this action, implemented by the POST /assignments/{id}/submissions endpoint, allows authorized student Users to upload a file submission for a specific assignment.  Importantly, the file uploaded for each Submission must be stored by the API in such a way that it can be later downloaded via URL.  Specifically, when storing the submission file, the API should generate the URL with which that file can later be accessed.  This URL will be returned along with the rest of the information about the Submission from the GET /assignments/{id}/submissions endpoint.


User data fetching – this action, implemented by the GET /users/{id} endpoint, allows Users to see their own data.  Importantly, only a logged-in User can see their own data.  The data returned by this endpoint should also include the list of classes the User is enrolled in (for student Users) or teaching (for instructor Users).
Course information fetching – this action, implemented by the GET /courses and GET /courses/{id} endpoints, allows users to see information about all Courses or about a specific Course.  Note that the information included by both of these endpoints should not return information about a Course’s enrolled students or its Assignments.  Instead, that information can be fetched by the GET /courses/{id}/students and GET /courses/{id}/assignments endpoints, respectively.
Pagination
A few of the Tarpaulin API endpoints must be paginated:
GET /courses
GET /assignments/{id}/submissions
It’s up to you to determine the appropriate way to paginate these endpoints, including how the page size is set, etc.
Authorization
Many of the endpoints in the Tarpaulin API require authorization, as described in the Tarpaulin OpenAPI specification.  You may implement this using the standard JWT-based authorization scheme we discussed in class.
Docker specification
Your API application should have a complete Docker specification that allows it to be launched from scratch on a new machine using Docker Compose.  This specification will likely include both a Dockerfile, in which the dependencies for your main API server are specified, and a Docker Compose specification, in which each service in your API (e.g. database, etc.) is specified and tied to the other API services.  Importantly, this specification should allow your API to be launched from scratch.  Thus, it must include any necessary database initialization, etc. required by your API.
Other requirements
In addition to the requirements listed above, your API must implement one of the following features:
IP address-based rate limiting.
Database data replication.
API architecture/design document
In addition to your API implementation, your team must also submit an API architecture/design document.  This document should include the following sections:
API architecture diagram – this should, at a high level, depict the major components of your API (e.g. API server(s), database server(s), etc.) and indicate the relationships between these components.
API data layout – this should describe, either pictorially or in text, how application data is organized within your API database (e.g. data schema, links between entities, etc.).
API design reflection – this should describe why you chose the architecture and data layout you chose and reflect on what parts of your design worked well and what parts you would change, and how, if you were to implement the same project again.

The API architecture/design document should be submitted by your team on Canvas before your team’s final project grading demo (discussed below).

Your team’s grade (out of 100 points) for the final project will be based on successfully implementing a complete API that satisfies these criteria:

50 points – Your API successfully implements all of the endpoints described in the Tarpaulin OpenAPI specification.
10 points – Your API endpoints correctly require authorization, as described in the Tarpaulin OpenAPI specification.
5 points – Your API correctly paginates the appropriate endpoints, as described above and in the Tarpaulin OpenAPI specification.
10 points – Your API has a complete Docker specification and can be launched from scratch using Docker Compose, as described above.
5 points – Your API implements one of the features described under “additional requirements” above.
20 points – Your API has a high-quality design and implementation.

In addition, your team will receive a separate grade, out of 100 points, for your API architecture/design document.

Remember also, if your team does not do a demo for your project, you will receive a zero for it.
